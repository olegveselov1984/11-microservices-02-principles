Домашнее задание к занятию «Микросервисы: принципы»
Вы работаете в крупной компании, которая строит систему на основе микросервисной архитектуры. Вам как DevOps-специалисту необходимо выдвинуть предложение по организации инфраструктуры для разработки и эксплуатации.

Задача 1: API Gateway
Предложите решение для обеспечения реализации API Gateway. Составьте сравнительную таблицу возможностей различных программных решений. На основе таблицы сделайте выбор решения.

Решение должно соответствовать следующим требованиям:

маршрутизация запросов к нужному сервису на основе конфигурации,
возможность проверки аутентификационной информации в запросах,
обеспечение терминации HTTPS.
Обоснуйте свой выбор.

Решение:
Ниже представлена таблица сравнения наиболее популярных инструментов для реализации API Gateway по заданным критериям:

Критерий	|Kong	|Amazon API Gateway	|Zuul	|Tyk
Маршрутизация запросов	✅	✅	✅	✅
Проверка аутентификации	✅	✅	✅	✅
Терминация HTTPS      	✅	✅	✅	✅
Доступность	Открытый исходник	Платформа облачных услуг	Открытый исходник	Коммерческое ПО
Масштабируемость	★★★★☆	★★★★★	★★★☆☆	★★★★☆
Возможность кастомизации	Высокая	Средняя	Низкая	Высокая
Простота развертывания	Средняя	Легко	Сложная	Простая
Уровень безопасности	Высокий	Очень высокий	Средний	Высокий
Управление производительностью	Хорошее	Отличное	Среднее	Хорошее
Поддержка протоколов	Многочисленные	Основные	Ограниченные	Широкий спектр
Цена	Бесплатна/коммерческая поддержка доступна	Оплата по использованию облака	Бесплатна/опциональная коммерческая поддержка	Плата за лицензию
Анализ выбора инструмента:
Исходя из требований к решению — маршрутизацию запросов, проверку аутентификации и поддержку HTTPS-терминации — Amazon API Gateway представляется оптимальным выбором.

Преимущества Amazon API Gateway:
Простое управление: Быстрое разворачивание API без значительных усилий благодаря интеграции с AWS-инфраструктурой.
Высокая безопасность: Полноценная интеграция с AWS Identity and Access Management (IAM) обеспечивает надежную защиту данных.
Масштабируемость: Безболезненное расширение и адаптация к изменениям нагрузки, особенно важно для высоконагруженных приложений.
Поддержка мониторинга: Интеграция с CloudWatch позволяет легко отслеживать показатели производительности и логгировать события.
Доступность функций: Настройка политики доступа, мониторинг потребления API и защита от превышения лимитов запросов.
Таким образом, учитывая простоту внедрения, высокую безопасность и гибкость, Amazon API Gateway наилучшим образом соответствует поставленным требованиям.




Задача 2: Брокер сообщений
Составьте таблицу возможностей различных брокеров сообщений. На основе таблицы сделайте обоснованный выбор решения.

Решение должно соответствовать следующим требованиям:

поддержка кластеризации для обеспечения надёжности,
хранение сообщений на диске в процессе доставки,
высокая скорость работы,
поддержка различных форматов сообщений,
разделение прав доступа к различным потокам сообщений,
простота эксплуатации.
Обоснуйте свой выбор.


Рассмотрим возможности основных брокеров сообщений, сравнивая их по указанным критериям:

Критерии	|Apache Kafka	|RabbitMQ	|ActiveMQ	|ZeroMQ
Поддержка кластеризации	✅	✅	✅	Не поддерживает
Хранение сообщений на диске	✅	✅	✅	Нет встроенной поддержки
Высокая скорость работы	✅	✅	✅	✅
Поддержка разных форматов сообщений	✅	✅	✅	✅
Разделение прав доступа	Частично	✅	✅	Нет встроенной поддержки
Простота эксплуатации	Средняя сложность	Простая	Средняя сложность	Минимальная инфраструктура
Оценка соответствия каждого критерия выбранным инструментам:
Apache Kafka
Кластеризация: поддерживается
Хранение сообщений на диске: да
Скорость работы: высокая
Форматы сообщений: разные форматы поддерживаются (через сериализаторы)
Права доступа: частично реализованы, возможна настройка ACL
Эксплуатация: требует дополнительного администрирования
RabbitMQ
Кластеризация: поддерживается
Хранение сообщений на диске: да
Скорость работы: высокая
Форматы сообщений: различные форматы (через плагины)
Права доступа: полноценная поддержка
Эксплуатация: простая благодаря готовому веб-интерфейсу
ActiveMQ
Кластеризация: поддерживается
Хранение сообщений на диске: да
Скорость работы: хорошая
Форматы сообщений: поддерживает различные форматы
Права доступа: полная поддержка
Эксплуатация: средняя сложность
ZeroMQ
Кластеризация: отсутствует
Хранение сообщений на диске: отсутствует
Скорость работы: очень высокая
Форматы сообщений: разнообразные
Права доступа: отсутствуют
Эксплуатация: минимально необходимая инфраструктура
Итоговое обоснование выбора:
Учитывая требования проекта (поддержка кластеризации, хранение сообщений на диске, высокая скорость работы, поддержка различных форматов сообщений, разделение прав доступа и простота эксплуатации), RabbitMQ является лучшим решением среди перечисленных брокеров.

Причины выбора RabbitMQ:
Полностью поддерживает все перечисленные критерии:
Надежная кластеризация для высокой доступности.
Сообщения сохраняются на диске для гарантированной доставки.
Поддерживает широкую номенклатуру форматов сообщений.
Позволяет настраивать права доступа на уровне очередей и обменников.
Имеет простой интерфейс и простую эксплуатацию благодаря графическому интерфейсу управления.
RabbitMQ сочетает в себе необходимые характеристики для построения надежного и эффективного механизма обмена сообщениями, обеспечивая достаточную производительность и удобство обслуживания.



Оба ответа получены из открытык источников в Интернете. Для более подробного анализа необходимо проведения тестирования.
